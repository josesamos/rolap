<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Incremental update of a star database from the star database generated with
the new data."><title>Refresh a star database in a constellation — incremental_refresh • rolap</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Refresh a star database in a constellation — incremental_refresh"><meta property="og:description" content="Incremental update of a star database from the star database generated with
the new data."><meta property="og:image" content="https://josesamos.github.io/rolap/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rolap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/rolap.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/v05-flat-table-op.html">Obtaining and transforming flat tables</a>
    <a class="dropdown-item" href="../articles/v10-rpd.html">Definition of role-playing and role dimensions</a>
    <a class="dropdown-item" href="../articles/v20-rdbms-dm.html">Star databases and RDBMS through the dm and rolap packages</a>
    <a class="dropdown-item" href="../articles/v30-dim-instances.html">Integration of dimension instances</a>
    <a class="dropdown-item" href="../articles/v40-refresh.html">Incremental refresh of star databases</a>
    <a class="dropdown-item" href="../articles/v50-deploy.html">Deployment of star databases with incremental refresh</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/josesamos/rolap/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Refresh a star database in a constellation</h1>
      <small class="dont-index">Source: <a href="https://github.com/josesamos/rolap/blob/HEAD/R/refresh.R" class="external-link"><code>R/refresh.R</code></a></small>
      <div class="d-none name"><code>incremental_refresh.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Incremental update of a star database from the star database generated with
the new data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">incremental_refresh</span><span class="op">(</span><span class="va">db</span>, <span class="va">sdbu</span>, <span class="va">existing_instances</span>, <span class="va">replace_transformations</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for star_database</span></span>
<span><span class="fu">incremental_refresh</span><span class="op">(</span></span>
<span>  <span class="va">db</span>,</span>
<span>  <span class="va">sdbu</span>,</span>
<span>  existing_instances <span class="op">=</span> <span class="st">"ignore"</span>,</span>
<span>  replace_transformations <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>db</dt>
<dd><p>A <code>star_database</code> object.</p></dd>


<dt>sdbu</dt>
<dd><p>A <code>star_database_update</code> object.</p></dd>


<dt>existing_instances</dt>
<dd><p>A string, operation to be carried out on the instances
of already existing facts. The possible values are: "ignore", "replace",
"group" and "delete".</p></dd>


<dt>replace_transformations</dt>
<dd><p>A boolean, replace the <code>star_database</code>
transformation code with the <code>star_database_update</code> one.</p></dd>


<dt>...</dt>
<dd><p>internal test parameters.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>star_database</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There may be data in the update that already exists in the facts: it is
indicated what to do with it, replace it, group it, delete it or ignore it in
the update.</p>
<p>If to obtain the update data we have had to perform new transformations (which
were not necessary to obtain the star database), we can indicate that these are
the new transformation operations for the star database. These operations are
not applied to the star database, they will only be applied to new periodic
updates.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other star database refresh functions: 
<code><a href="cancel_deployment.html">cancel_deployment</a>()</code>,
<code><a href="deploy.html">deploy</a>()</code>,
<code><a href="get_existing_fact_instances.html">get_existing_fact_instances</a>()</code>,
<code><a href="get_lookup_tables.html">get_lookup_tables</a>()</code>,
<code><a href="get_new_dimension_instances.html">get_new_dimension_instances</a>()</code>,
<code><a href="get_star_database.html">get_star_database</a>()</code>,
<code><a href="get_star_schema.html">get_star_schema</a>()</code>,
<code><a href="get_transformation_code.html">get_transformation_code</a>()</code>,
<code><a href="get_transformation_file.html">get_transformation_file</a>()</code>,
<code><a href="load_star_database.html">load_star_database</a>()</code>,
<code><a href="update_according_to.html">update_according_to</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">db</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="flat_table.html">flat_table</a></span><span class="op">(</span><span class="st">'ft_num'</span>, <span class="va">ft_cause_rpd</span><span class="op">[</span><span class="va">ft_cause_rpd</span><span class="op">$</span><span class="va">City</span> <span class="op">!=</span> <span class="st">'Cambridge'</span> <span class="op">&amp;</span></span></span>
<span class="r-in"><span>                                      <span class="va">ft_cause_rpd</span><span class="op">$</span><span class="va">WEEK</span> <span class="op">!=</span> <span class="st">'4'</span>,<span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="as_star_database.html">as_star_database</a></span><span class="op">(</span><span class="va">mrs_cause_schema_rpd</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="role_playing_dimension.html">role_playing_dimension</a></span><span class="op">(</span>rpd <span class="op">=</span> <span class="st">"When"</span>,</span></span>
<span class="r-in"><span>                         roles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"When Available"</span>, <span class="st">"When Received"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="flat_table.html">flat_table</a></span><span class="op">(</span><span class="st">'ft_num2'</span>, <span class="va">ft_cause_rpd</span><span class="op">[</span><span class="va">ft_cause_rpd</span><span class="op">$</span><span class="va">City</span> <span class="op">!=</span> <span class="st">'Bridgeport'</span> <span class="op">&amp;</span></span></span>
<span class="r-in"><span>                                           <span class="va">ft_cause_rpd</span><span class="op">$</span><span class="va">WEEK</span> <span class="op">!=</span> <span class="st">'2'</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="va">f2</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="update_according_to.html">update_according_to</a></span><span class="op">(</span><span class="va">db</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">db</span> <span class="op">&lt;-</span> <span class="va">db</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">incremental_refresh</span><span class="op">(</span><span class="va">f2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Jose Samos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

